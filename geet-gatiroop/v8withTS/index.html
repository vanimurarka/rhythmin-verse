<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>GG with TS</title>
	<script type="text/javascript" src="d3.v2.min.js"></script>
	<script src="./hpv.v8.0.js"></script>
	<script src="./hpv-draw.v8.0.js"></script>
</head>
<body>
<textarea id="pom" cols="40" rows="5">आज नदी बिलकुल उदास थी।
सोयी थी अपने पानी में,
उसके दर्पण पर -
बादल का वस्त्र पड़ा था।
मैंने उसे नहीं जगाया,
दबे पाँव घर वापस आया।</textarea>
<button onclick="myProcessPoem();">Process</button>
Base Count: <input type="number" name="baseCount" id="baseCount" value="1" min="1" size="20" max="100" step="1" onchange="fnBaseCountChange(this.value);"></span>
<div id="right">
	<div id="chart"></div>
</div>
</body>
<script type="text/javascript">
	"use strict";

	let processedPoem;
	function myProcessPoem()
	{
		let pom = document.getElementById("pom").value;
		let visDiv = document.getElementById("right");
		let availableW = visDiv.clientWidth;
		let myPoemType = poemType.freeverse;
		// debugger;
		processedPoem = processPoem(pom, myPoemType);
		visualize(processedPoem, availableW, myPoemType);
	}
	function fnBaseCountChange(baseCount = 1)
	{
		if ((baseCount > 0) && (baseCount != oPoem.baseCount))
		{
		  processedPoem.setBaseCount(baseCount);
		  draw();
		}
	}
</script>
</html>